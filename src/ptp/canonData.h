#ifndef CB_CONTROL_PTP_CANONDATA_H
#define CB_CONTROL_PTP_CANONDATA_H

#include "../packet.h"
#include "ptp.h"

class CanonEOSDeviceInfo : public PTPPacket {
 public:
  uint32_t length;
  std::vector<uint32_t> eventsSupported;
  std::vector<uint32_t> devicePropertiesSupported;

  CanonEOSDeviceInfo() {
    lengthField(this->length);
    field(this->eventsSupported);
    field(this->devicePropertiesSupported);
    field(this->unknown);
  }

 private:
  // On my camera I got {0x00, 0x01, 0x02, 0x04, 0x08}
  std::vector<uint32_t> unknown;
};

template <std::unsigned_integral T>
class CanonDeviceProp : public PTPPacket {
 public:
  uint32_t length = 0;
  uint32_t devicePropertyCode = 0;
  T value = 0;

  CanonDeviceProp(uint32_t devicePropertyCode = 0, T value = 0)
      : devicePropertyCode(devicePropertyCode), value(value) {
    lengthField(this->length);
    typeField(this->devicePropertyCode);
    field(this->value);
  }
};

/* Canon vendor PTP Enums */

namespace CanonOperationCode {
enum CanonOperationCode : uint16_t {
  GetObjectSize = 0x9001,
  SetObjectArchive = 0x9002,
  KeepDeviceOn = 0x9003,
  LockDeviceUI = 0x9004,
  UnlockDeviceUI = 0x9005,
  GetObjectHandleByName = 0x9006,
  InitiateReleaseControl = 0x9008,
  TerminateReleaseControl = 0x9009,
  TerminatePlaybackMode = 0x900A,
  ViewfinderOn = 0x900B,
  ViewfinderOff = 0x900C,
  DoAeAfAwb = 0x900D,
  GetCustomizeSpec = 0x900E,
  GetCustomizeItemInfo = 0x900F,
  GetCustomizeData = 0x9010,
  SetCustomizeData = 0x9011,
  GetCaptureStatus = 0x9012,
  CheckEvent = 0x9013,
  FocusLock = 0x9014,
  FocusUnlock = 0x9015,
  GetLocalReleaseParam = 0x9016,
  SetLocalReleaseParam = 0x9017,
  AskAboutPcEvf = 0x9018,
  SendPartialObject = 0x9019,
  InitiateCaptureInMemory = 0x901A,
  GetPartialObjectEx = 0x901B,
  SetObjectTime = 0x901C,
  GetViewfinderImage = 0x901D,
  GetObjectAttributes = 0x901E,
  ChangeUSBProtocol = 0x901F,
  GetChanges = 0x9020,
  GetObjectInfoEx = 0x9021,
  InitiateDirectTransfer = 0x9022,
  TerminateDirectTransfer = 0x9023,
  SendObjectInfoByPath = 0x9024,
  SendObjectByPath = 0x9025,
  InitiateDirectTransferEx = 0x9026,
  GetAncillaryObjectHandles = 0x9027,
  GetTreeInfo = 0x9028,
  GetTreeSize = 0x9029,
  NotifyProgress = 0x902A,
  NotifyCancelAccepted = 0x902B,
  GetDirectory = 0x902D,
  SetPairingInfo = 0x9030,
  GetPairingInfo = 0x9031,
  DeletePairingInfo = 0x9032,
  GetMACAddress = 0x9033,
  SetDisplayMonitor = 0x9034,
  PairingComplete = 0x9035,
  GetWirelessMAXChannel = 0x9036,
  EOSGetStorageIDs = 0x9101,
  EOSGetStorageInfo = 0x9102,
  EOSGetObjectInfo = 0x9103,
  EOSGetObject = 0x9104,
  EOSDeleteObject = 0x9105,
  EOSFormatStore = 0x9106,
  EOSGetPartialObject = 0x9107,
  EOSGetDeviceInfoEx = 0x9108,
  EOSGetObjectInfoEx = 0x9109,
  EOSGetThumbEx = 0x910A,
  EOSSendPartialObject = 0x910B,
  EOSSetObjectAttributes = 0x910C,
  EOSGetObjectTime = 0x910D,
  EOSSetObjectTime = 0x910E,
  EOSRemoteRelease = 0x910F,
  EOSSetDevicePropValueEx = 0x9110,
  EOSGetRemoteMode = 0x9113,
  EOSSetRemoteMode = 0x9114,
  EOSSetEventMode = 0x9115,
  EOSGetEvent = 0x9116,
  EOSTransferComplete = 0x9117,
  EOSCancelTransfer = 0x9118,
  EOSResetTransfer = 0x9119,
  EOSPCHDDCapacity = 0x911A,
  EOSSetUILock = 0x911B,
  EOSResetUILock = 0x911C,
  EOSKeepDeviceOn = 0x911D,
  EOSSetNullPacketMode = 0x911E,
  EOSUpdateFirmware = 0x911F,
  EOSTransferCompleteDT = 0x9120,
  EOSCancelTransferDT = 0x9121,
  EOSSetWftProfile = 0x9122,
  EOSGetWftProfile = 0x9122,
  EOSSetProfileToWft = 0x9124,
  EOSBulbStart = 0x9125,
  EOSBulbEnd = 0x9126,
  EOSRequestDevicePropValue = 0x9127,
  EOSRemoteReleaseOn = 0x9128,
  EOSRemoteReleaseOff = 0x9129,
  EOSInitiateViewfinder = 0x9151,
  EOSTerminateViewfinder = 0x9152,
  EOSGetViewFinderImage = 0x9153,
  EOSDoAf = 0x9154,
  EOSDriveLens = 0x9155,
  EOSDepthOfFieldPreview = 0x9156,
  EOSClickWB = 0x9157,
  EOSZoom = 0x9158,
  EOSZoomPosition = 0x9159,
  EOSSetLiveAfFrame = 0x915a,
  EOSAfCancel = 0x9160,
  EOSFAPIMessageTX = 0x91FE,
  EOSFAPIMessageRX = 0x91FF,
};
}

namespace CanonEOSPropertyCode {
enum CanonEOSPropertyCode : uint32_t {
  Aperture = 0xD101,
  ShutterSpeed = 0xD102,
  ISO = 0xD103,
  ExposureCompensation = 0xD104,
  ShootingMode = 0xD105,
  DriveMode = 0xD106,
  ExposureMeteringMode = 0xD107,
  AutoFocusMode = 0xD108,
  WhiteBalance = 0xD109,
  ColorTemperature = 0xD10A,
  WhiteBalanceAdjustBA = 0xD10B,
  WhiteBalanceAdjustMG = 0xD10C,
  WhiteBalanceBracketBA = 0xD10D,
  WhiteBalanceBracketMG = 0xD10E,
  ColorSpace = 0xD10F,
  PictureStyle = 0xD110,
  BatteryPower = 0xD111,
  BatterySelect = 0xD112,
  CameraTime = 0xD113,
  AutoPowerOff = 0xD114,
  Owner = 0xD115,
  ModelID = 0xD116,
  PTPExtensionVersion = 0xD119,
  DPOFVersion = 0xD11A,
  AvailableShots = 0xD11B,
  CaptureDestination = 0xD11C,
  BracketMode = 0xD11D,
  CurrentStorage = 0xD11E,
  CurrentFolder = 0xD11F,
  ImageFormat = 0xD120,
  ImageFormatCF = 0xD121,
  ImageFormatSD = 0xD122,
  ImageFormatHDD = 0xD123,
  CompressionS = 0xD130,
  CompressionM1 = 0xD131,
  CompressionM2 = 0xD132,
  CompressionL = 0xD133,
  AEModeDial = 0xD138,
  AEModeCustom = 0xD139,
  MirrorUpSetting = 0xD13A,
  HighlightTonePriority = 0xD13B,
  AFSelectFocusArea = 0xD13C,
  HDRSetting = 0xD13D,
  PCWhiteBalance1 = 0xD140,
  PCWhiteBalance2 = 0xD141,
  PCWhiteBalance3 = 0xD142,
  PCWhiteBalance4 = 0xD143,
  PCWhiteBalance5 = 0xD144,
  MWhiteBalance = 0xD145,
  MWhiteBalanceEx = 0xD146,
  PictureStyleStandard = 0xD150,
  PictureStylePortrait = 0xD151,
  PictureStyleLandscape = 0xD152,
  PictureStyleNeutral = 0xD153,
  PictureStyleFaithful = 0xD154,
  PictureStyleBlackWhite = 0xD155,
  PictureStyleAuto = 0xD156,
  PictureStyleUserSet1 = 0xD160,
  PictureStyleUserSet2 = 0xD161,
  PictureStyleUserSet3 = 0xD162,
  PictureStyleParam1 = 0xD170,
  PictureStyleParam2 = 0xD171,
  PictureStyleParam3 = 0xD172,
  HighISOSettingNoiseReduction = 0xD178,
  MovieServoAF = 0xD179,
  ContinuousAFValid = 0xD17A,
  Attenuator = 0xD17B,
  UTCTime = 0xD17C,
  Timezone = 0xD17D,
  Summertime = 0xD17E,
  FlavorLUTParams = 0xD17F,
  CustomFunc1 = 0xD180,
  CustomFunc2 = 0xD181,
  CustomFunc3 = 0xD182,
  CustomFunc4 = 0xD183,
  CustomFunc5 = 0xD184,
  CustomFunc6 = 0xD185,
  CustomFunc7 = 0xD186,
  CustomFunc8 = 0xD187,
  CustomFunc9 = 0xD188,
  CustomFunc10 = 0xD189,
  CustomFunc11 = 0xD18A,
  CustomFunc12 = 0xD18B,
  CustomFunc13 = 0xD18C,
  CustomFunc14 = 0xD18D,
  CustomFunc15 = 0xD18E,
  CustomFunc16 = 0xD18F,
  CustomFunc17 = 0xD190,
  CustomFunc18 = 0xD191,
  CustomFunc19 = 0xD192,
  InnerDevelop = 0xD193,
  MultiAspect = 0xD194,
  MovieSoundRecord = 0xD195,
  MovieRecordVolume = 0xD196,
  WindCut = 0xD197,
  ExtenderType = 0xD198,
  OLCInfoVersion = 0xD199,
  CustomFuncEx = 0xD1A0,
  MyMenu = 0xD1A1,
  MyMenuList = 0xD1A2,
  WftStatus = 0xD1A3,
  WftInputTransmission = 0xD1A4,
  HDDDirectoryStructure = 0xD1A5,
  BatteryInfo = 0xD1A6,
  AdapterInfo = 0xD1A7,
  LensStatus = 0xD1A8,
  QuickReviewTime = 0xD1A9,
  CardExtension = 0xD1AA,
  TempStatus = 0xD1AB,
  ShutterCounter = 0xD1AC,
  SpecialOption = 0xD1AD,
  PhotoStudioMode = 0xD1AE,
  SerialNumber = 0xD1AF,
  EVFOutputDevice = 0xD1B0,
  EVFMode = 0xD1B1,
  DepthOfFieldPreview = 0xD1B2,
  EVFSharpness = 0xD1B3,
  EVFWBMode = 0xD1B4,
  EVFClickWBCoeffs = 0xD1B5,
  EVFColorTemp = 0xD1B6,
  ExposureSimMode = 0xD1B7,
  EVFRecordStatus = 0xD1B8,
  LvAfSystem = 0xD1BA,
  MovSize = 0xD1BB,
  LvViewTypeSelect = 0xD1BC,
  MirrorDownStatus = 0xD1BD,
  MovieParam = 0xD1BE,
  MirrorLockupState = 0xD1BF,
  FlashChargingState = 0xD1C0,
  AloMode = 0xD1C1,
  FixedMovie = 0xD1C2,
  OneShotRawOn = 0xD1C3,
  ErrorForDisplay = 0xD1C4,
  AEModeMovie = 0xD1C5,
  BuiltinStroboMode = 0xD1C6,
  StroboDispState = 0xD1C7,
  StroboETTL2Metering = 0xD1C8,
  ContinousAFMode = 0xD1C9,
  MovieParam2 = 0xD1CA,
  StroboSettingExpComposition = 0xD1CB,
  MovieParam3 = 0xD1CC,
  LVMedicalRotate = 0xD1CF,
  Artist = 0xD1D0,
  Copyright = 0xD1D1,
  BracketValue = 0xD1D2,
  FocusInfoEx = 0xD1D3,
  DepthOfField = 0xD1D4,
  Brightness = 0xD1D5,
  LensAdjustParams = 0xD1D6,
  EFComp = 0xD1D7,
  LensName = 0xD1D8,
  AEB = 0xD1D9,
  StroboSetting = 0xD1DA,
  StroboWirelessSetting = 0xD1DB,
  StroboFiring = 0xD1DC,
  LensID = 0xD1DD,
  LCDBrightness = 0xD1DE,
  CADarkBright = 0xD1DF,
};
}

#endif